<!DOCTYPE html>
<html>
<body>

<h1>Crossword solver</h1>
<p>Find all possible valid words.</p>
<form action="/dictionary">
  Enter 6 letters:<br>
  <input type="text" name="letters" value="abcdef">
  <input type="submit" value="Submit">
</form> 

<div id="baseLetters">Base letters...</div>
<div id="premutations">Calculating premutations...</div>
<div id="fullDictionary">Loading dictionary...</div>
<script>
var permutations = [];
loadDictionary();
displayBaseLetters();
displayPermutations();

function loadDictionary() {
  var xmlhttp = new XMLHttpRequest();
  xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      displayDictionary(this);
    }
  };
  xmlhttp.open("GET", "https://raw.githubusercontent.com/dwyl/english-words/master/words.txt", true);
  xmlhttp.send();
}

function displayDictionary(fullDictionary) {
  document.getElementById("fullDictionary").innerHTML = fullDictionary.responseText;
}
  
function findGetParameter(parameterName) {
    var result = null,
        tmp = [];
    var items = location.search.substr(1).split("&");
    for (var index = 0; index < items.length; index++) {
        tmp = items[index].split("=");
        if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
    }
    return result;
}
  
function displayBaseLetters() {
  document.getElementById("baseLetters").innerHTML = findGetParameter("letters");
}

function displayPermutations() {
  permutations = permut(findGetParameter("letters"));
  for (permutation of permutations)
     displayPermutations = permutation + "<br>"
  document.getElementById("permutations").innerHTML = displayPermutations;
}
  
function permut(string) {
  if (string.length < 2) return string; // This is our break condition

  var permutations = []; // This array will hold our permutations
  for (var i = 0; i < string.length; i++) {
    var char = string[i];

    // Cause we don't want any duplicates:
    if (string.indexOf(char) != i) // if char was used already
      continue; // skip it this time

    var remainingString = string.slice(0, i) + string.slice(i + 1, string.length); //Note: you can concat Strings via '+' in JS

    for (var subPermutation of permut(remainingString))
      permutations.push(char + subPermutation)
  }
  return permutations;
}
</script>
</body>
</html>
